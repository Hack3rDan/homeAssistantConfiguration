>
  {# DAily Briefing #}
  {%- macro getReport() -%}
      <p>'
      Here is your daily brief for {{ now().strftime("%I:%M %p") }}.
      
      Right now, {{ states('sensor.current_conditions_detail') }}
    {{ states('sensor.current_forecast_detail') }}

  {%- endmacro -%}


  {# a macro that removes all newline characters, empty spaces, and returns formatted text  #}
      {%- macro cleanup(data) -%}
      {%- for item in data.split("\n")  if item | trim != "" -%}
        {{ item | trim }} {% endfor -%}
  {%- endmacro -%}

  {# a macro to call all macros :)  #}
  {%- macro mother_of_all_macros() -%}
      {{ getReport() }}
    {%- endmacro -%}
    
  #  {# Call the macro  #}
    {{- cleanup(mother_of_all_macros()) -}}